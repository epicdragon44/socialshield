{"ast":null,"code":"var _jsxFileName = \"/home/danielwei/Development/GitProjects/maskweaver/src/components/Landing/index.js\";\nimport React from 'react';\nimport { withAuthorization } from '../Session';\n\nclass Landing extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    const usr = JSON.parse(localStorage.getItem('authUser'));\n    const friendsList = Object.values(usr).slice()[3];\n    console.log(this.state.value);\n    if (this.state.value === Object.values(usr).slice()[0]) console.log(\"You are not friends with yourself\"); // TODO: Display you can't add yourself!\n\n    const friend = this.props.firebase.users().child(event.target.value).username;\n    friendsList.push(friend);\n    this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n      friends: friendsList.splice()\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    const usr = JSON.parse(localStorage.getItem('authUser')); // user's personal data is stored in 'authUser'\n\n    var username = Object.values(usr).slice()[6];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"colorheader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }, \"Friends\")), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"colorheader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, \"Add a Friend\")), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }\n    }, \"Enter the Friend's ID:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 51\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"nicesubmit\",\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"colorheader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, \"Friend Activity\")), getFriends().slice().map(friend => /*#__PURE__*/React.createElement(Friend, {\n      name: friend.name,\n      pointCount: friend.pointCount,\n      currentUser: username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nfunction getFriends() {\n  //TODO: RETURN AN ARRAY OF FRIEND OBJECTS\n  //each object should contain a name, which corresponds to a string, and a pointCount, which corresponds to an int\n  //{ name: \"Bob\", pointCount: 15 }\n  return [{\n    name: \"Bob\",\n    pointCount: 0\n  }, {\n    name: \"Derek\",\n    pointCount: 15\n  }, {\n    name: \"Jessica\",\n    pointCount: -3\n  }, {\n    name: \"Bob\",\n    pointCount: 0\n  }, {\n    name: \"Bob\",\n    pointCount: 0\n  }];\n}\n\nfunction Friend(props) {\n  const usr = JSON.parse(localStorage.getItem('authUser')); // user's personal data is stored in 'authUser'\n\n  var msg = \"\";\n  var diff = 0;\n  var attribute = \"friend\";\n  var myPts = Object.values(usr).slice()[4];\n\n  if (myPts > props.pointCount) {\n    diff = myPts - props.pointCount;\n    attribute += \"green\";\n    msg = /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, \"Congrats!\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 22\n      }\n    }), \" You have \", diff, \" more points!\");\n  } else if (myPts < props.pointCount) {\n    diff = props.pointCount - myPts;\n    attribute += \"red\";\n    msg = /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, \"You're behind!\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 27\n      }\n    }), \" Your friend has \", diff, \" more points!\");\n  } else {\n    msg = /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, \"You're tied for \", myPts, \" points!\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 48\n      }\n    }), \" See if you can pull ahead!\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: attribute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"colorheadernospace\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, props.name), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, props.pointCount, \" points\"), msg));\n}\n\nexport default withAuthorization(condition)(Landing);","map":{"version":3,"sources":["/home/danielwei/Development/GitProjects/maskweaver/src/components/Landing/index.js"],"names":["React","withAuthorization","Landing","Component","constructor","props","state","value","handleChange","bind","handleSubmit","event","setState","target","usr","JSON","parse","localStorage","getItem","friendsList","Object","values","slice","console","log","friend","firebase","users","child","username","push","update","friends","splice","preventDefault","render","getFriends","map","name","pointCount","Friend","msg","diff","attribute","myPts","condition"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,iBAAT,QAAkC,YAAlC;;AAEA,MAAMC,OAAN,SAAsBF,KAAK,CAACG,SAA5B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE;AADE,KAAb;AAGA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAEDD,EAAAA,YAAY,CAACG,KAAD,EAAQ;AAAK,SAAKC,QAAL,CAAc;AAACL,MAAAA,KAAK,EAAEI,KAAK,CAACE,MAAN,CAAaN;AAArB,KAAd;AAA8C;;AAEvEG,EAAAA,YAAY,CAACC,KAAD,EAAQ;AAChB,UAAMG,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAZ;AACA,UAAMC,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAcP,GAAd,EAAmBQ,KAAnB,GAA2B,CAA3B,CAApB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKlB,KAAL,CAAWC,KAAvB;AACA,QAAI,KAAKD,KAAL,CAAWC,KAAX,KAAqBa,MAAM,CAACC,MAAP,CAAcP,GAAd,EAAmBQ,KAAnB,GAA2B,CAA3B,CAAzB,EACIC,OAAO,CAACC,GAAR,CAAY,mCAAZ,EALY,CAKsC;;AACtD,UAAMC,MAAM,GAAG,KAAKpB,KAAL,CAAWqB,QAAX,CAAoBC,KAApB,GAA4BC,KAA5B,CAAkCjB,KAAK,CAACE,MAAN,CAAaN,KAA/C,EAAsDsB,QAArE;AACAV,IAAAA,WAAW,CAACW,IAAZ,CAAiBL,MAAjB;AACA,SAAKpB,KAAL,CAAWqB,QAAX,CAAoBC,KAApB,GAA4BC,KAA5B,CAAkCR,MAAM,CAACC,MAAP,CAAcP,GAAd,EAAmBQ,KAAnB,GAA2B,CAA3B,CAAlC,EAAiES,MAAjE,CAAwE;AACpEC,MAAAA,OAAO,EAAEb,WAAW,CAACc,MAAZ;AAD2D,KAAxE;AAGAtB,IAAAA,KAAK,CAACuB,cAAN;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACL,UAAMrB,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAZ,CADK,CACqD;;AAC1D,QAAIW,QAAQ,GAAGT,MAAM,CAACC,MAAP,CAAcP,GAAd,EAAmBQ,KAAnB,GAA2B,CAA3B,CAAf;AAEA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAKI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CALJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAE,KAAKZ,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD1B,eAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,KAArC;AAA4C,MAAA,QAAQ,EAAE,KAAKC,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,eAMI;AAAO,MAAA,SAAS,EAAG,YAAnB;AAAgC,MAAA,IAAI,EAAC,QAArC;AAA8C,MAAA,KAAK,EAAC,QAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CADJ,CARJ,eAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBJ,eAmBI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,CAnBJ,EAsBK4B,UAAU,GAAGd,KAAb,GAAqBe,GAArB,CACGZ,MAAM,iBACN,oBAAC,MAAD;AACI,MAAA,IAAI,EAAEA,MAAM,CAACa,IADjB;AAEI,MAAA,UAAU,EAAEb,MAAM,CAACc,UAFvB;AAGI,MAAA,WAAW,EAAEV,QAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFH,CAtBL,CADJ;AAiCH;;AA/DiC;;AAkEtC,SAASO,UAAT,GAAsB;AAAE;AACpB;AACA;AACA,SAAO,CAAC;AAAEE,IAAAA,IAAI,EAAE,KAAR;AAAeC,IAAAA,UAAU,EAAE;AAA3B,GAAD,EAAiC;AAAED,IAAAA,IAAI,EAAE,OAAR;AAAiBC,IAAAA,UAAU,EAAE;AAA7B,GAAjC,EAAoE;AAAED,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,UAAU,EAAE,CAAC;AAAhC,GAApE,EAAyG;AAAED,IAAAA,IAAI,EAAE,KAAR;AAAeC,IAAAA,UAAU,EAAE;AAA3B,GAAzG,EAAyI;AAAED,IAAAA,IAAI,EAAE,KAAR;AAAeC,IAAAA,UAAU,EAAE;AAA3B,GAAzI,CAAP;AACH;;AAED,SAASC,MAAT,CAAgBnC,KAAhB,EAAuB;AACnB,QAAMS,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAZ,CADmB,CACuC;;AAE1D,MAAIuB,GAAG,GAAG,EAAV;AACA,MAAIC,IAAI,GAAG,CAAX;AACA,MAAIC,SAAS,GAAG,QAAhB;AACA,MAAIC,KAAK,GAAGxB,MAAM,CAACC,MAAP,CAAcP,GAAd,EAAmBQ,KAAnB,GAA2B,CAA3B,CAAZ;;AACA,MAAIsB,KAAK,GAAGvC,KAAK,CAACkC,UAAlB,EAA8B;AAC1BG,IAAAA,IAAI,GAAGE,KAAK,GAAGvC,KAAK,CAACkC,UAArB;AACAI,IAAAA,SAAS,IAAE,OAAX;AACAF,IAAAA,GAAG,gBACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAb,gBAA8BC,IAA9B,kBADA;AAGH,GAND,MAOK,IAAIE,KAAK,GAAGvC,KAAK,CAACkC,UAAlB,EAA8B;AAC/BG,IAAAA,IAAI,GAAGrC,KAAK,CAACkC,UAAN,GAAmBK,KAA1B;AACAD,IAAAA,SAAS,IAAE,KAAX;AACAF,IAAAA,GAAG,gBACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlB,uBAA0CC,IAA1C,kBADA;AAGH,GANI,MAOA;AACDD,IAAAA,GAAG,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAqBG,KAArB,2BAAmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,gCADJ;AAGH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAED,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKtC,KAAK,CAACiC,IAAX,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKjC,KAAK,CAACkC,UAAX,YAFJ,EAGKE,GAHL,CADJ,CADJ;AASH;;AAED,eAAexC,iBAAiB,CAAC4C,SAAD,CAAjB,CAA6B3C,OAA7B,CAAf","sourcesContent":["import React from 'react';\n\nimport { withAuthorization } from '../Session';\n\nclass Landing extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: '',\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {    this.setState({value: event.target.value});  }\n\n    handleSubmit(event) {\n        const usr = JSON.parse(localStorage.getItem('authUser'));\n        const friendsList = Object.values(usr).slice()[3];\n        console.log(this.state.value);\n        if (this.state.value === Object.values(usr).slice()[0])\n            console.log(\"You are not friends with yourself\"); // TODO: Display you can't add yourself!\n        const friend = this.props.firebase.users().child(event.target.value).username;\n        friendsList.push(friend);\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\n            friends: friendsList.splice(),\n        });\n        event.preventDefault();\n    }\n\n    render() {\n        const usr = JSON.parse(localStorage.getItem('authUser')); // user's personal data is stored in 'authUser'\n        var username = Object.values(usr).slice()[6];\n        \n        return (\n            <div>\n                <div className=\"colorheader\">\n                    <h1>Friends</h1>\n                </div>\n                <hr />\n                <div className=\"colorheader\">\n                    <h2>Add a Friend</h2>\n                </div>\n                <center>\n                    <form onSubmit={this.handleSubmit}>\n                        <label>\n                            Enter the Friend's ID:<br />\n                            <input type=\"text\" value={this.state.value} onChange={this.handleChange} />\n                        </label>\n                        <br />\n                        <input className = \"nicesubmit\" type=\"submit\" value=\"Submit\" />\n                    </form>\n                </center>\n                <hr />\n                <div className=\"colorheader\">\n                    <h2>Friend Activity</h2>\n                </div>\n                {getFriends().slice().map(\n                    friend =>\n                    <Friend \n                        name={friend.name}\n                        pointCount={friend.pointCount}\n                        currentUser={username}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nfunction getFriends() { //TODO: RETURN AN ARRAY OF FRIEND OBJECTS\n    //each object should contain a name, which corresponds to a string, and a pointCount, which corresponds to an int\n    //{ name: \"Bob\", pointCount: 15 }\n    return [{ name: \"Bob\", pointCount: 0 }, { name: \"Derek\", pointCount: 15 }, { name: \"Jessica\", pointCount: -3 }, { name: \"Bob\", pointCount: 0 }, { name: \"Bob\", pointCount: 0 },];\n}\n\nfunction Friend(props) {\n    const usr = JSON.parse(localStorage.getItem('authUser')); // user's personal data is stored in 'authUser'\n\n    var msg = \"\";\n    var diff = 0;\n    var attribute = \"friend\";\n    var myPts = Object.values(usr).slice()[4];\n    if (myPts > props.pointCount) {\n        diff = myPts - props.pointCount;\n        attribute+=\"green\";\n        msg = (\n        <h4>Congrats!<br /> You have {diff} more points!</h4>\n        );\n    }\n    else if (myPts < props.pointCount) {\n        diff = props.pointCount - myPts;\n        attribute+=\"red\";\n        msg = (\n        <h4>You're behind!<br /> Your friend has {diff} more points!</h4>\n        );\n    }\n    else {\n        msg = (\n            <h4>You're tied for {myPts} points!<br /> See if you can pull ahead!</h4>\n        );\n    }\n\n    return (\n        <div className={attribute}>\n            <div className=\"colorheadernospace\">\n                <h2>{props.name}</h2>\n                <h3>{props.pointCount} points</h3>\n                {msg}\n            </div>\n        </div>\n    );\n}\n\nexport default withAuthorization(condition)(Landing);"]},"metadata":{},"sourceType":"module"}